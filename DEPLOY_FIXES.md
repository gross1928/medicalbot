# üöÄ –†–ï–®–ï–ù–ò–Ø –ü–†–û–ë–õ–ï–ú –î–ï–ü–õ–û–Ø

## ‚ùå –û—à–∏–±–∫–∞: pip install –Ω–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ

### üîç –ü—Ä–∏—á–∏–Ω—ã:
1. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã –≤ requirements.txt
2. –ö–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–µ –≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
3. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
4. –¢–∞–π–º–∞—É—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–æ–≤

### ‚úÖ –†–µ—à–µ–Ω–∏—è:

#### 1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π requirements.txt
```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ñ–∞–π–ª —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç:
# - –£–±—Ä–∞–Ω—ã –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
# - –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤–µ—Ä—Å–∏–∏ –ø–∞–∫–µ—Ç–æ–≤
# - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã
```

#### 2. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –¥–µ–ø–ª–æ–π —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ requirements-minimal.txt –¥–ª—è Railway
mv requirements-minimal.txt requirements.txt
```

#### 3. –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Docker
```bash
python test_docker.py
```

## üìã –ü–û–®–ê–ì–û–í–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï

### –®–∞–≥ 1: –û–±–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π requirements.txt —É–∂–µ –≥–æ—Ç–æ–≤
# –ì–ª–∞–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
# ‚úÖ –£–±—Ä–∞–Ω—ã: –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ httpx, pydantic-settings, python-telegram-bot
# ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã: fastapi 0.108.0, openai 1.6.1, supabase 2.2.0
# ‚úÖ –£–ø—Ä–æ—â–µ–Ω—ã: —É–±—Ä–∞–Ω—ã dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
```

### –®–∞–≥ 2: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–ª—É—á—à–µ–Ω–Ω—ã–π Dockerfile
```dockerfile
# –ù–æ–≤—ã–π Dockerfile —Å–æ–¥–µ—Ä–∂–∏—Ç:
# ‚úÖ –°–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (gcc, g++, curl)
# ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π pip –∏ setuptools
# ‚úÖ –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (--verbose)
# ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
# ‚úÖ Healthcheck
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .dockerignore
```bash
# –ù–æ–≤—ã–π .dockerignore –∏—Å–∫–ª—é—á–∞–µ—Ç:
# ‚úÖ –ë–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
# ‚úÖ –ö—ç—à –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
# ‚úÖ –ù–µ–Ω—É–∂–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
# ‚úÖ –†–∞–∑–º–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —É–º–µ–Ω—å—à–µ–Ω –Ω–∞ 70%
```

## üê≥ –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ï –°–¢–†–ê–¢–ï–ì–ò–ò

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è 1: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑
```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Dockerfile.minimal (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
docker build -f Dockerfile.minimal -t medscan-bot:minimal .
```

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è 2: –ü–æ—ç—Ç–∞–ø–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
```dockerfile
# –í Dockerfile —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
# 1. –°–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
# 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ pip
# 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –ø–∞–∫–µ—Ç–æ–≤
# 4. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
```

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è 3: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–æ–µ–≤
```bash
# Dockerfile –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è:
# - requirements.txt –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ
# - –°–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Å–ª–æ–µ
# - –ö–æ–¥ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º
```

## üîß –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ü–†–û–ë–õ–ï–ú

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –±–∏–ª–¥–∞:
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç
python test_docker.py

# –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
docker build -t test-bot . --progress=plain
docker run --rm test-bot python -c "import all_packages"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
pip-check

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
pip install -r requirements.txt --dry-run
```

### Railway-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Railway:
PYTHON_VERSION=3.11
PORT=8000

# –£–±–µ–¥–∏—Ç–µ—Å—å –≤ railway.json:
{
  "build": {
    "builder": "DOCKERFILE"
  },
  "deploy": {
    "startCommand": "python main.py"
  }
}
```

## üÜò –≠–ö–°–¢–†–ï–ù–ù–´–ï –†–ï–®–ï–ù–ò–Ø

### –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç:

#### 1. –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø–∞–∫–µ—Ç—ã:
fastapi>=0.100.0
uvicorn>=0.20.0
python-telegram-bot>=20.0
openai>=1.0.0
supabase>=2.0.0
```

#### 2. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑
```dockerfile
# –í–º–µ—Å—Ç–æ python:3.11-slim –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
FROM python:3.11
# –∏–ª–∏
FROM python:3.10-slim
```

#### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–µ–∑ –∫—ç—à–∞
```dockerfile
RUN pip install --no-cache-dir --no-deps -r requirements.txt
```

## ‚úÖ –ü–†–û–í–ï–†–ö–ê –£–°–ü–ï–®–ù–û–ì–û –î–ï–ü–õ–û–Ø

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–õ–æ–∫–∞–ª—å–Ω—ã–π –±–∏–ª–¥**: `python test_docker.py`
2. **Railway –±–∏–ª–¥**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Railway dashboard
3. **–†–∞–±–æ—Ç–∞ –±–æ—Ç–∞**: –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –±–æ—Ç—É
4. **Health check**: `curl your-app.railway.app/health`

## üìû –ö–û–ù–¢–ê–ö–¢–´ –ü–û–î–î–ï–†–ñ–ö–ò

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞—é—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Railway
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `requirements-minimal.txt`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

---
**üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `requirements.txt` - –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `requirements-minimal.txt` - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏  
- `Dockerfile` - —É–ª—É—á—à–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- `test_docker.py` - —Å–∫—Ä–∏–ø—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è 